queue:
  name: Hosted VS2017
  demands:
    - msbuild


variables:
  Parameters.GitVersionArguments: ""
  Parameters.GitVersionPath: ""
steps:
- task: gittools.gitversion.gitversion-task.GitVersion@3
  displayName: "Run GitVersion"
  inputs:
    additionalArguments: "$(Parameters.GitVersionArguments)"
    gitVersionPath: "$(Parameters.GitVersionPath)"

- task: PowerShell@1
  displayName: "Tag build with Branch Information"
  inputs:
    scriptType: "inlineScript"
    inlineScript: "Write-Host \"##vso[build.addbuildtag]BranchRef=$(Build.SourceBranch)\" \n
Write-Host \"##vso[build.addbuildtag]BranchName=$(Build.SourceBranchName)\" \n
Write-Host \"##vso[build.addbuildtag]Reason=$(Build.Reason)\""



